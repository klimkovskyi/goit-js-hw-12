{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["export function searchImage(searchValue) {\n    const BASE_URL = 'https://pixabay.com/api/';\n    const params = new URLSearchParams({\n        key: '13983728-c7bbdcf2d20cfa49f01a0b8c6',\n        q: searchValue,\n        image_type: 'photo',\n        orientation: 'horizontal',\n        safesearch: true\n    });\n    const url = `${BASE_URL}?${params}`;\n\n    return fetch(url)\n        .then((response) => {\n            if (!response.ok) {\n                throw new Error(response.statusText)\n            }\n            return response.json();\n        })\n}","export function renderImage(data) {\n    return data.map(({ webformatURL, largeImageURL, tags, likes, views, comments, downloads }) => `\n        <li class=\"gallery-item\">\n            <a class=\"gallery-link\" href=\"${largeImageURL}\">\n                <img class=\"gallery-image\" src=\"${webformatURL}\" alt=\"${tags}\">\n                <ul class=\"wrapper\">\n                    <li>Likes<span>${likes}</span></li>\n                    <li>Views<span>${views}</span></li>\n                    <li>Comments<span>${comments}</span></li>\n                    <li>Downloads<span>${downloads}</span></li>\n                </ul>\n            </a>\n        </li>\n    `).join('');\n}","import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nimport {searchImage} from './js/pixabay-api';\nimport {renderImage} from './js/render-functions';\n\nconst formEl = document.querySelector('.search-form');\nconst container = document.querySelector('.gallery-list');\nconst loader = document.querySelector('.loader');\n\nconst lightbox = new SimpleLightbox ('.gallery-list a', {\n        animationSpeed: 200,\n        animationSlide: true,\n        disableScroll: false,\n        history: false,\n        captionsData: 'alt',\n        captionDelay: 250,\n});\n\nformEl.addEventListener('submit', (event) => {\n    event.preventDefault();\n    const intputValue = event.target.elements.search.value.trim();\n  \n    container.innerHTML = '';\n    \n  \n      if (!intputValue) {\n        iziToast.error({\n          title: 'Error',\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n          position: 'topRight',\n        });\n        return;\n    }\n\n    loader.classList.remove('hidden');\n    loader.style.display = 'block';\n\n    searchImage(intputValue)\n        .then(data => {\n            if (!data.total) {\n                iziToast.error({\n                title: 'Error',\n                message:\n                'Sorry, there are no images matching your search query. Please try again!',\n                position: 'topRight',\n                });\n                \n                return loader.style.display = 'none';\n            }\n            \n            const markup = renderImage(data.hits);\n            container.innerHTML = markup;\n\n            loader.classList.add('hidden');\n            loader.style.display = 'none';\n        })\n        .catch(error => console.log(error))\n        .finally(() => lightbox.refresh())\n})\n\n\n"],"names":["searchImage","searchValue","BASE_URL","params","url","response","renderImage","data","webformatURL","largeImageURL","tags","likes","views","comments","downloads","formEl","container","loader","lightbox","SimpleLightbox","event","intputValue","iziToast","markup","error"],"mappings":"6vBAAO,SAASA,EAAYC,EAAa,CACrC,MAAMC,EAAW,2BACXC,EAAS,IAAI,gBAAgB,CAC/B,IAAK,qCACL,EAAGF,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EACpB,CAAK,EACKG,EAAM,GAAGF,CAAQ,IAAIC,CAAM,GAEjC,OAAO,MAAMC,CAAG,EACX,KAAMC,GAAa,CAChB,GAAI,CAACA,EAAS,GACV,MAAM,IAAI,MAAMA,EAAS,UAAU,EAEvC,OAAOA,EAAS,MAC5B,CAAS,CACT,CClBO,SAASC,EAAYC,EAAM,CAC9B,OAAOA,EAAK,IAAI,CAAC,CAAE,aAAAC,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAW,IAAK;AAAA;AAAA,4CAEtDL,CAAa;AAAA,kDACPD,CAAY,UAAUE,CAAI;AAAA;AAAA,qCAEvCC,CAAK;AAAA,qCACLC,CAAK;AAAA,wCACFC,CAAQ;AAAA,yCACPC,CAAS;AAAA;AAAA;AAAA;AAAA,KAI7C,EAAE,KAAK,EAAE,CACd,CCLA,MAAMC,EAAS,SAAS,cAAc,cAAc,EAC9CC,EAAY,SAAS,cAAc,eAAe,EAClDC,EAAS,SAAS,cAAc,SAAS,EAEzCC,EAAW,IAAIC,EAAgB,kBAAmB,CAChD,eAAgB,IAChB,eAAgB,GAChB,cAAe,GACf,QAAS,GACT,aAAc,MACd,aAAc,GACtB,CAAC,EAEDJ,EAAO,iBAAiB,SAAWK,GAAU,CACzCA,EAAM,eAAc,EACpB,MAAMC,EAAcD,EAAM,OAAO,SAAS,OAAO,MAAM,OAKrD,GAHFJ,EAAU,UAAY,GAGhB,CAACK,EAAa,CAChBC,EAAS,MAAM,CACb,MAAO,QACP,QACE,2EACF,SAAU,UACpB,CAAS,EACD,MACH,CAEDL,EAAO,UAAU,OAAO,QAAQ,EAChCA,EAAO,MAAM,QAAU,QAEvBjB,EAAYqB,CAAW,EAClB,KAAKd,GAAQ,CACV,GAAI,CAACA,EAAK,MACN,OAAAe,EAAS,MAAM,CACf,MAAO,QACP,QACA,2EACA,SAAU,UAC1B,CAAiB,EAEML,EAAO,MAAM,QAAU,OAGlC,MAAMM,EAASjB,EAAYC,EAAK,IAAI,EACpCS,EAAU,UAAYO,EAEtBN,EAAO,UAAU,IAAI,QAAQ,EAC7BA,EAAO,MAAM,QAAU,MACnC,CAAS,EACA,MAAMO,GAAS,QAAQ,IAAIA,CAAK,CAAC,EACjC,QAAQ,IAAMN,EAAS,SAAS,CACzC,CAAC"}